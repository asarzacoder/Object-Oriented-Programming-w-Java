/**
11.10 LAB: All permutations of names
Write a program that lists all ways people can line up for a photo (all permutations of a list of Strings).
The program will read a list of one word names (until -1), and use a recursive method to create and output
all possible orderings of those names, one ordering per line.

When the input is:

Julia Lucas Mia -1
then the output is (must match the below ordering):

Julia Lucas Mia
Julia Mia Lucas
Lucas Julia Mia
Lucas Mia Julia
Mia Julia Lucas
Mia Lucas Julia
**/


import java.util.Scanner;
import java.util.ArrayList;

public class PhotoLineup {
    public static void allPermutations(ArrayList<String> names, ArrayList<String> permutatedNames) {
        String namePicked = ""; // This is needed to store the name picked from names list.

        /**
         * Base case: Check if names list is empty.
         *  If empty, print the permutatedNames list.
         *  If not empty, iterate through names list and pick out names to add to permutated list.
         */
        if (names.isEmpty()) {
            for (int i = 0; i < permutatedNames.size(); i++) {
                System.out.print(permutatedNames.get(i) + " ");
            }
            System.out.println();
            return;
        }

        /**
         * Recursion case: iterate through names list.
         *  1. Pick name, add to permutatedNames and remove from names list.
         *  2. Repeat until names list is empty activating our base case.
         *  3. After returning from base case, back track by removing last added name from permutatedNames.
         *  4. Add the removed name back to names list at its original index.
         *  5. Continue the loop to pick the next name.
         * This ensures all permutations are generated.
         */
        for (int i = 0; i < names.size(); i++) {
            namePicked = names.get(i);          // Store name from index i to namePicked.

            permutatedNames.add(namePicked);    // Add picked name to permutatedNames.
            names.remove(i);                    // Remove picked name from names list.

            allPermutations(names, permutatedNames);  // Recursive call with updated lists.

            names.add(i, namePicked);         // Backtrack: Add name back to names list at original index.
            permutatedNames.remove(permutatedNames.size() - 1);     // Backtrack: Remove last added name from permutatedNames.

        }
    }

    public static void main(String[] args) {
        ArrayList<String> nameList = new ArrayList<String>();
        ArrayList<String> permutatedList = new ArrayList<String>();
        Scanner scnr = new Scanner(System.in);
        String userInput = "";

        /**
         * This block of code prompts user for a list of names separated by spaces.
         * To end the input, user must put negative one.
         * While loop keeps going until user inputs -1.
         * Until then, each name is added into our ArrayList nameList.
         */
        System.out.print("Enter names separated by spaces (-1 to end): ");
        userInput = scnr.next();
        while (!userInput.equals("-1")) {
            nameList.add(userInput);
            userInput = scnr.next();
        }
        scnr.close();

        // This calls the method to permutate the names and print them out.
        allPermutations(nameList, permutatedList);

    }
}